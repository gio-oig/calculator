{"version":3,"sources":["App.js","index.js"],"names":["methods","App","useState","display","setDisplay","current","setCurrent","history","setHistory","historyContainer","useRef","handleClick","e","input","target","innerHTML","length","test","includes","state","status","slice","calc","sum","eval","toFixed","getHistoryExpr","expr","indexOfequals","indexOf","value","classList","remove","handleClear","useEffect","console","log","historyText","document","getElementById","clb","toggle","addEventListener","removeEventListener","className","id","ref","map","i","onClick","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.27c65631.chunk.js","sourcesContent":["import { useEffect, useRef, useState } from 'react';\nimport './App.css';\n\nconst methods = {\n\t'+': '+',\n\t'-': '-',\n\t'/': '/',\n\t'*': '*',\n};\n\nfunction App() {\n\tconst [display, setDisplay] = useState('0');\n\tconst [current, setCurrent] = useState('');\n\tconst [history, setHistory] = useState([]);\n\tconst historyContainer = useRef();\n\n\tconst handleClick = (e) => {\n\t\tlet input = e.target.innerHTML;\n\n\t\tif (current.length === 0 && /^[+/X]/.test(input)) return;\n\n\t\tif (/=/.test(current)) {\n\t\t\tsetCurrent(display);\n\t\t}\n\n\t\tif (input === 'X') {\n\t\t\tinput = '*';\n\t\t}\n\n\t\tif (input === '.') {\n\t\t\tif (display.includes('.')) {\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tsetCurrent((state) => state + input);\n\t\t\t\tsetDisplay((status) => status + input);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Case if input is Math method\n\t\tif (methods[input]) {\n\t\t\tsetDisplay(input);\n\t\t\t// check last element\n\t\t\tif (methods[current[current.length - 1]]) {\n\t\t\t\tif (methods[current[current.length - 1]] !== '-' && input === '-') {\n\t\t\t\t\tsetCurrent((state) => state.slice(0) + input);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tmethods[current[current.length - 2]] &&\n\t\t\t\t\tmethods[current[current.length - 1]] === '-'\n\t\t\t\t) {\n\t\t\t\t\tsetCurrent((state) => state.slice(0, -2) + input);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// change prev Math method with new method\n\t\t\t\tinput = methods[input];\n\t\t\t\tsetCurrent((state) => state.slice(0, -1) + input);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tsetCurrent((state) => state + input);\n\t\tif (display[display.length - 1] in methods) {\n\t\t\tsetDisplay(input);\n\t\t\treturn;\n\t\t}\n\t\tif (!methods[input]) {\n\t\t\tsetDisplay((state) => {\n\t\t\t\tstate = state === '0' ? '' : state;\n\t\t\t\treturn state + input;\n\t\t\t});\n\t\t} else {\n\t\t\tsetDisplay(input);\n\t\t}\n\t};\n\n\tconst calc = () => {\n\t\tlet sum = eval(current);\n\t\tsum = sum % 1 === 0 ? sum : sum.toFixed(3);\n\t\tsetHistory((state) => [...state, current + '=' + sum]);\n\t\tsetCurrent((state) => {\n\t\t\tconst expresson = state + '=' + sum;\n\t\t\treturn expresson;\n\t\t});\n\t\tsetDisplay(sum);\n\t};\n\n\tconst getHistoryExpr = (e) => {\n\t\tconst expr = e.target.innerHTML;\n\t\tconst indexOfequals = expr.indexOf('=');\n\t\tconst value = expr.slice(indexOfequals + 1);\n\n\t\tsetCurrent(expr);\n\t\tsetDisplay(value);\n\t\thistoryContainer.current.classList.remove('active');\n\t};\n\n\tconst handleClear = () => {\n\t\tsetCurrent('');\n\t\tsetDisplay('0');\n\t};\n\n\tuseEffect(() => {\n\t\tconsole.log(history);\n\t}, [history]);\n\n\tuseEffect(() => {\n\t\tlet historyText = document.getElementById('history');\n\t\tconst clb = () => {\n\t\t\thistoryContainer.current.classList.toggle('active');\n\t\t};\n\t\thistoryText.addEventListener('click', clb);\n\n\t\treturn () => {\n\t\t\thistoryText.removeEventListener('click', clb);\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<div className=\"calculator\">\n\t\t\t\t<div id=\"history\">history</div>\n\t\t\t\t<div className=\"history-box\" ref={historyContainer}>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{history.map((expr, i) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<li key={i} onClick={getHistoryExpr}>\n\t\t\t\t\t\t\t\t\t{expr}\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"display-container\">\n\t\t\t\t\t<div className=\"example\">{current}</div>\n\t\t\t\t\t<div id=\"display\" className=\"current-display\">\n\t\t\t\t\t\t{display}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"body-container\">\n\t\t\t\t\t<div id=\"clear\" className=\"btn\" onClick={handleClear}>\n\t\t\t\t\t\tAC\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"divide\" className=\"btn\" onClick={handleClick}>\n\t\t\t\t\t\t/\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"multiply\" className=\"btn\" onClick={handleClick}>\n\t\t\t\t\t\tX\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"seven\" className=\"btn\" onClick={handleClick}>\n\t\t\t\t\t\t7\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"eight\" className=\"btn\" onClick={handleClick}>\n\t\t\t\t\t\t8\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"nine\" className=\"btn\" onClick={handleClick}>\n\t\t\t\t\t\t9\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"subtract\" className=\"btn\" onClick={handleClick}>\n\t\t\t\t\t\t-\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"four\" className=\"btn\" onClick={handleClick}>\n\t\t\t\t\t\t4\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"five\" className=\"btn\" onClick={handleClick}>\n\t\t\t\t\t\t5\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"six\" className=\"btn\" onClick={handleClick}>\n\t\t\t\t\t\t6\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"add\" className=\"btn\" onClick={handleClick}>\n\t\t\t\t\t\t+\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"one\" className=\"btn\" onClick={handleClick}>\n\t\t\t\t\t\t1\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"two\" className=\"btn\" onClick={handleClick}>\n\t\t\t\t\t\t2\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"three\" className=\"btn\" onClick={handleClick}>\n\t\t\t\t\t\t3\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"zero\" className=\"btn\" onClick={handleClick}>\n\t\t\t\t\t\t0\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"decimal\" className=\"btn\" onClick={handleClick}>\n\t\t\t\t\t\t.\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"equals\" className=\"btn\" onClick={calc}>\n\t\t\t\t\t\t=\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}